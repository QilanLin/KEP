# KEP AWS Fuzzer配置文件示例
# 完整的配置选项和说明

# ============================================================================
# Isabelle相关配置
# ============================================================================
isabelle:
  # Isabelle可执行文件路径
  # 可以是绝对路径或在PATH中的命令
  isabelle_path: isabelle
  
  # Sledgehammer导出目录
  # Sledgehammer生成的TPTP文件存放位置
  sledgehammer_export_dir: ~/.isabelle/sledgehammer/export
  
  # 默认超时时间（秒）
  # 用于Isabelle theory验证和Sledgehammer调用
  default_timeout: 60.0
  
  # 默认使用的prover
  # 可选: e, cvc5, z3, vampire, spass
  default_prover: e
  
  # 可用的provers列表
  # Differential oracle会使用这个列表中的多个provers
  available_provers:
    - e
    - cvc5
    - z3
    - vampire
    - spass

# ============================================================================
# Fuzzer相关配置
# ============================================================================
fuzzer:
  # 种子文件目录
  # 存放TPTP种子文件的目录
  seed_dir: ../sledgehammer_export
  
  # 输出目录
  # 存放fuzzer结果、变异体、bug报告等
  output_dir: ./fuzzer_results
  
  # Prover执行超时时间（秒）
  # 用于crash oracle检测超时bugs
  timeout: 30.0
  
  # 每个种子生成的变异体数量
  num_mutants: 10
  
  # 使用AST级别的变异器（而非Token级别）
  # AST mutator更智能但更复杂
  use_ast_mutator: false
  
  # 随机种子（用于可重现的变异）
  # null表示使用随机种子
  random_seed: null
  
  # ─────────────────────────────
  # 种子预过滤配置
  # ─────────────────────────────
  
  # 是否启用种子预过滤
  # 过滤掉本身就超时/出错的种子
  enable_seed_filtering: true
  
  # 种子过滤的超时时间（秒）
  # 比正常timeout更短，快速过滤
  seed_filter_timeout: 10.0
  
  # ─────────────────────────────
  # 相对执行时间检测配置
  # ─────────────────────────────
  
  # 使用相对执行时间检测性能退化bugs
  # 比较种子和变异体的执行时间
  use_relative_time_check: true
  
  # 相对时间阈值（倍数）
  # 例如: 2.0表示如果变异体比种子慢2倍以上，报告为bug
  relative_time_threshold: 2.0
  
  # ─────────────────────────────
  # Reconstruction Oracle配置
  # ─────────────────────────────
  
  # 是否启用reconstruction oracle
  # 测试Sledgehammer生成的proof是否能在Isabelle中重构
  use_reconstruction_oracle: false
  
  # Reconstruction超时时间（秒）
  reconstruction_timeout: 30.0
  
  # ─────────────────────────────
  # 并发配置
  # ─────────────────────────────
  
  # 最大并发worker数
  # null表示使用CPU核心数
  max_workers: null

# ============================================================================
# 日志配置
# ============================================================================
logging:
  # 日志级别
  # 可选: DEBUG, INFO, WARNING, ERROR, CRITICAL
  log_level: INFO
  
  # 日志文件路径
  # null表示不写入文件
  log_file: ./fuzzer.log
  
  # 是否在控制台输出日志
  enable_console: true
  
  # 日志格式（用于文件）
  log_format: '%(asctime)s - %(name)s - %(levelname)s - %(message)s'
  
  # 控制台日志格式（简洁版）
  console_format: '%(levelname)s: %(message)s'

# ============================================================================
# 使用说明
# ============================================================================
#
# 1. 基本使用:
#    python main.py --config config.yaml
#
# 2. 覆盖配置:
#    python main.py --config config.yaml --timeout 60 --num-mutants 20
#
# 3. 使用环境变量:
#    export ISABELLE_PATH=/usr/local/bin/isabelle
#    export LOG_LEVEL=DEBUG
#    python main.py --use-env
#
# 4. 快速测试配置:
#    开发时使用较小的值快速验证
#    num_mutants: 5
#    timeout: 10.0
#
# 5. 生产配置:
#    正式bug hunting时使用更大的值
#    num_mutants: 100
#    timeout: 60.0
#
# ============================================================================

